window.dataLayer=window.dataLayer||[],function(t){t(".wp-block-hubspot-form").each((function(){var a=t(this),r=t(this).find(".wp-block-hubspot-form__form"),e={};r.data("portalId")&&(e.portalId=r.data("portalId")),r.data("portalId")&&(e.formId=r.data("formId")),a.attr("id")&&(e.target="#"+a.attr("id")+" .wp-block-hubspot-form__form"),e.onFormSubmit=function(t){var a={};(a=t.serializeArray().reduce((function(t,a){return t[a.name]=a.value,t}),{})).hs_context&&(a.hs_context=JSON.parse(a.hs_context)),dataLayer.push({event:"formSubmit",formAction:r.data("name"),formName:r.data("name"),formGuid:e.formId,formElement:t,formData:a}),r.trigger("formSubmit",[t,a])},e.onFormSubmitted=function(t){dataLayer.push({event:"formSubmitted",formAction:r.data("name"),formName:r.data("name"),formGuid:e.formId}),r.trigger("formSubmitted",[t])},e.onFormReady=function(e){if(e.parent().addClass(a.attr("class")),a.attr("style")&&e.attr("style",(e.attr("style")||"")+a.attr("style")),hubspotFormThemeCss&&r.data("customCss")){var o=t('<link rel="stylesheet" href="'+hubspotFormThemeCss+'" media="print" onload="this.media=\'all\'" /><noscript><link rel="stylesheet" href="'+hubspotFormThemeCss+'"></noscript>');o.on("load",(function(){hubspot.form.formRenderer.rerenderForms(hbspt.forms.shells)})),o.appendTo(e.closest("html").find("head"))}r.data("preloadField")&&r.data("preloadValue")&&(console.log(r.data("preloadField"),r.data("preloadValue"),e.find(".hs_"+r.data("preloadField")+" input")),e.find(".hs_"+r.data("preloadField")+" input").val(r.data("preloadValue"))),r.trigger("formReady",[e])},e.portalId&&e.formId&&hbspt.forms.create(e)}))}(jQuery);
